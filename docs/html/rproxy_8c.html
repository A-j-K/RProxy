<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>rproxy: src/rproxy.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>src/rproxy.c File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;grp.h&gt;</code><br/>
<code>#include &lt;pwd.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;sys/resource.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="rproxy_8h_source.html">rproxy.h</a>&quot;</code><br/>

<p><a href="rproxy_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a38c15a4a492e4725418d2d82d0d9c09d">append_ssl_x_headers</a> (<a class="el" href="structrproxy.html">rproxy_t</a> *<a class="el" href="structrproxy.html">rproxy</a>, evhtp_request_t *upstream_req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a4d4754cdee2754b636bd0c3f2a0d1b73">append_x_headers</a> (<a class="el" href="structrproxy.html">rproxy_t</a> *<a class="el" href="structrproxy.html">rproxy</a>, evhtp_request_t *upstream_req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a064a89457f133de81091baf30786fa84">write_header_to_evbuffer</a> (evhtp_header_t *header, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a2ed15b007fcccd64f4254a9a7845ece6">send_upstream_headers</a> (evhtp_request_t *upstream_req, evhtp_headers_t *hdrs, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#ad036b18bde8b92c9df024c8cdc9446ac">send_upstream_body</a> (evhtp_request_t *upstream_req, evbuf_t *buf, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a8da2db1f353feba1b7fd1a157cefacbe">send_upstream_new_chunk</a> (evhtp_request_t *upstream_req, uint64_t len, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a7345cb7a0d39edb6003cd26062ef5b73">send_upstream_chunk_done</a> (evhtp_request_t *upstream_req, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#aa6e83f55142825c9b8b0dc92460c374b">send_upstream_chunks_done</a> (evhtp_request_t *upstream_req, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#abd8856d3e29667e80b94da39d103a719">upstream_fini</a> (evhtp_request_t *upstream_req, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#ae3b0ee60dc28823a6c3a24312c9f02cd">upstream_pre_accept</a> (evhtp_connection_t *up_conn, void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Before accepting an upstream connection, evhtp will call this function which will check whether we have hit our max-pending limits, and if so, inform evhtp to not accept().  <a href="#ae3b0ee60dc28823a6c3a24312c9f02cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">evhtp_res&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a1acbcd02933ca9ebb23eb881a1f2ea7b">upstream_request_start</a> (evhtp_request_t *up_req, evhtp_path_t *path, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a1adbcf32ad91b8a02cf6f90189920880">rproxy_process_pending</a> (int fd, short which, void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#aa6f58930fed6320dbd0f0cd1c16f3dd1">rproxy_thread_init</a> (evhtp_t *htp, evthr_t *thr, void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the evthr init callback. Setup rproxy event base and initialize downstream connections.  <a href="#aa6f58930fed6320dbd0f0cd1c16f3dd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#ab77454da1d73366614b948b76955ba10">rproxy_init</a> (evbase_t *evbase, <a class="el" href="structrproxy__cfg.html">rproxy_cfg_t</a> *cfg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#ab029d105bbf7cc55957d885976207a62">rproxy_daemonize</a> (char *root, int noclose)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#aa19175ecc714c34f2db4a582feaa4981">rproxy_set_rlimits</a> (int nofiles)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rproxy_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a38c15a4a492e4725418d2d82d0d9c09d"></a><!-- doxytag: member="rproxy.c::append_ssl_x_headers" ref="a38c15a4a492e4725418d2d82d0d9c09d" args="(rproxy_t *rproxy, evhtp_request_t *upstream_req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int append_ssl_x_headers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrproxy.html">rproxy_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rproxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00047">47</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4d4754cdee2754b636bd0c3f2a0d1b73"></a><!-- doxytag: member="rproxy.c::append_x_headers" ref="a4d4754cdee2754b636bd0c3f2a0d1b73" args="(rproxy_t *rproxy, evhtp_request_t *upstream_req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int append_x_headers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrproxy.html">rproxy_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rproxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00178">178</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a><!-- doxytag: member="rproxy.c::main" ref="a3c04138a5bfe5d72780bb7e82a18e627" args="(int argc, char **argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l01136">1136</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab029d105bbf7cc55957d885976207a62"></a><!-- doxytag: member="rproxy.c::rproxy_daemonize" ref="ab029d105bbf7cc55957d885976207a62" args="(char *root, int noclose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rproxy_daemonize </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noclose</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l01044">1044</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab77454da1d73366614b948b76955ba10"></a><!-- doxytag: member="rproxy.c::rproxy_init" ref="ab77454da1d73366614b948b76955ba10" args="(evbase_t *evbase, rproxy_cfg_t *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rproxy_init </td>
          <td>(</td>
          <td class="paramtype">evbase_t *&nbsp;</td>
          <td class="paramname"> <em>evbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrproxy__cfg.html">rproxy_cfg_t</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00921">921</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1adbcf32ad91b8a02cf6f90189920880"></a><!-- doxytag: member="rproxy.c::rproxy_process_pending" ref="a1adbcf32ad91b8a02cf6f90189920880" args="(int fd, short which, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rproxy_process_pending </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>which</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00806">806</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa19175ecc714c34f2db4a582feaa4981"></a><!-- doxytag: member="rproxy.c::rproxy_set_rlimits" ref="aa19175ecc714c34f2db4a582feaa4981" args="(int nofiles)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rproxy_set_rlimits </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nofiles</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l01092">1092</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6f58930fed6320dbd0f0cd1c16f3dd1"></a><!-- doxytag: member="rproxy.c::rproxy_thread_init" ref="aa6f58930fed6320dbd0f0cd1c16f3dd1" args="(evhtp_t *htp, evthr_t *thr, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rproxy_thread_init </td>
          <td>(</td>
          <td class="paramtype">evhtp_t *&nbsp;</td>
          <td class="paramname"> <em>htp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evthr_t *&nbsp;</td>
          <td class="paramname"> <em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the evthr init callback. Setup rproxy event base and initialize downstream connections. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>htp</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thr</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00858">858</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad036b18bde8b92c9df024c8cdc9446ac"></a><!-- doxytag: member="rproxy.c::send_upstream_body" ref="ad036b18bde8b92c9df024c8cdc9446ac" args="(evhtp_request_t *upstream_req, evbuf_t *buf, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res send_upstream_body </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evbuf_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00383">383</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7345cb7a0d39edb6003cd26062ef5b73"></a><!-- doxytag: member="rproxy.c::send_upstream_chunk_done" ref="a7345cb7a0d39edb6003cd26062ef5b73" args="(evhtp_request_t *upstream_req, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res send_upstream_chunk_done </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00472">472</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6e83f55142825c9b8b0dc92460c374b"></a><!-- doxytag: member="rproxy.c::send_upstream_chunks_done" ref="aa6e83f55142825c9b8b0dc92460c374b" args="(evhtp_request_t *upstream_req, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res send_upstream_chunks_done </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00495">495</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ed15b007fcccd64f4254a9a7845ece6"></a><!-- doxytag: member="rproxy.c::send_upstream_headers" ref="a2ed15b007fcccd64f4254a9a7845ece6" args="(evhtp_request_t *upstream_req, evhtp_headers_t *hdrs, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res send_upstream_headers </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evhtp_headers_t *&nbsp;</td>
          <td class="paramname"> <em>hdrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00256">256</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8da2db1f353feba1b7fd1a157cefacbe"></a><!-- doxytag: member="rproxy.c::send_upstream_new_chunk" ref="a8da2db1f353feba1b7fd1a157cefacbe" args="(evhtp_request_t *upstream_req, uint64_t len, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res send_upstream_new_chunk </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00435">435</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="abd8856d3e29667e80b94da39d103a719"></a><!-- doxytag: member="rproxy.c::upstream_fini" ref="abd8856d3e29667e80b94da39d103a719" args="(evhtp_request_t *upstream_req, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res upstream_fini </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>upstream_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00518">518</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3b0ee60dc28823a6c3a24312c9f02cd"></a><!-- doxytag: member="rproxy.c::upstream_pre_accept" ref="ae3b0ee60dc28823a6c3a24312c9f02cd" args="(evhtp_connection_t *up_conn, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res upstream_pre_accept </td>
          <td>(</td>
          <td class="paramtype">evhtp_connection_t *&nbsp;</td>
          <td class="paramname"> <em>up_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Before accepting an upstream connection, evhtp will call this function which will check whether we have hit our max-pending limits, and if so, inform evhtp to not accept(). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>up_conn</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00664">664</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1acbcd02933ca9ebb23eb881a1f2ea7b"></a><!-- doxytag: member="rproxy.c::upstream_request_start" ref="a1acbcd02933ca9ebb23eb881a1f2ea7b" args="(evhtp_request_t *up_req, evhtp_path_t *path, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evhtp_res upstream_request_start </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&nbsp;</td>
          <td class="paramname"> <em>up_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">evhtp_path_t *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00690">690</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
<a class="anchor" id="a064a89457f133de81091baf30786fa84"></a><!-- doxytag: member="rproxy.c::write_header_to_evbuffer" ref="a064a89457f133de81091baf30786fa84" args="(evhtp_header_t *header, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_header_to_evbuffer </td>
          <td>(</td>
          <td class="paramtype">evhtp_header_t *&nbsp;</td>
          <td class="paramname"> <em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rproxy_8c_source.html#l00242">242</a> of file <a class="el" href="rproxy_8c_source.html">rproxy.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Apr 4 2012 22:55:21 for rproxy by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
